{"ast":null,"code":"var _jsxFileName = \"/Users/hiuchunchan/Downloads/4601project/sun/sunpo/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css'; // import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nimport $ from 'jquery'; // import { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n// import Login from \"./components/login\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: false,\n      username: '',\n      password: ''\n    };\n    this.usernameChange = this.usernameChange.bind(this);\n    this.passwordChange = this.passwordChange.bind(this);\n    this.LoginClick = this.LoginClick.bind(this);\n  }\n\n  render() {\n    const isLoggedIn = this.state.isLoggedIn;\n    let current_page;\n\n    if (isLoggedIn) {\n      current_page = React.createElement(MainPage, {\n        username: this.state.username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      });\n    } else {\n      current_page = React.createElement(Login, {\n        username: this.state.username,\n        password: this.state.password,\n        onUsernameChange: this.usernameChange,\n        onPasswordChange: this.passwordChange,\n        LoginClick: this.LoginClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, current_page);\n  }\n\n  usernameChange(name) {\n    this.setState({\n      username: name\n    });\n  }\n\n  passwordChange(pass) {\n    this.setState({\n      password: pass\n    });\n  }\n\n  LoginClick(e) {\n    e.preventDefault(e);\n\n    if (this.state.username === '' || this.state.password === '') {\n      alert('Please fill in all fields');\n    } else {\n      var loginInfo = {\n        \"username\": this.state.username,\n        \"password\": this.state.password\n      };\n      $.ajax({\n        url: \"http://localhost:3001/login\",\n        type: 'POST',\n        data: loginInfo,\n        xhrFields: {\n          withCredentials: true\n        },\n        dataType: 'JSON',\n        success: function (data) {\n          this.setState({\n            isLoggedIn: true\n          });\n        }.bind(this),\n        error: function (xhr, ajaxOptions, thrownError) {\n          alert(xhr.status);\n          alert(thrownError);\n        }.bind(this)\n      });\n    }\n  }\n\n}\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.usernameChange = this.usernameChange.bind(this);\n    this.passwordChange = this.passwordChange.bind(this);\n    this.LoginClick = this.LoginClick.bind(this); //  this.textInput = null;\n  }\n\n  usernameChange(e) {\n    e.preventDefault(e);\n    this.props.onUsernameChange(e.target.value);\n  }\n\n  passwordChange(e) {\n    e.preventDefault(e);\n    this.props.onPasswordChange(e.target.value);\n  }\n\n  LoginClick(e) {\n    e.preventDefault(e);\n    this.props.LoginClick(e);\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Enter username\",\n      value: this.props.username,\n      onChange: this.usernameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"Enter password\",\n      value: this.props.password,\n      onChange: this.passwordChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary btn-block\",\n      onClick: this.LoginClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Submit\"));\n  }\n\n}\n\nclass MainPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      class: \"inline\",\n      id: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, this.props.username)), React.createElement(\"button\", {\n      id: \"logout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Log out\")), React.createElement(\"p\", {\n      class: \"col-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Starred Friend List: \"));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/hiuchunchan/Downloads/4601project/sun/sunpo/src/App.js"],"names":["React","$","App","Component","constructor","props","state","isLoggedIn","username","password","usernameChange","bind","passwordChange","LoginClick","render","current_page","name","setState","pass","e","preventDefault","alert","loginInfo","ajax","url","type","data","xhrFields","withCredentials","dataType","success","error","xhr","ajaxOptions","thrownError","status","Login","onUsernameChange","target","value","onPasswordChange","MainPage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n// import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport $ from 'jquery';\n// import { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\n// import Login from \"./components/login\";\n\nclass App extends React.Component{\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      isLoggedIn: false,\n      username: '',\n      password: '',\n    };\n    this.usernameChange = this.usernameChange.bind(this);\n    this.passwordChange = this.passwordChange.bind(this);\n    this.LoginClick = this.LoginClick.bind(this);\n  }\n\n  render(){\n    const isLoggedIn = this.state.isLoggedIn;\n    let current_page;\n\n    if (isLoggedIn) {\n      current_page = <MainPage\n      username={this.state.username}\n  \n      \n      />;\n    }\n    else{\n      current_page = <Login\n      username={this.state.username}\n      password={this.state.password}\n      onUsernameChange={this.usernameChange}\n      onPasswordChange={this.passwordChange}\n      LoginClick={this.LoginClick}\n      />;\n    }\n  \n    return (\n     <div className=\"App\">\n       {current_page}\n      </div>\n    );\n  }\n\n  usernameChange(name) {\n    this.setState({\n      username: name\n    })\n  }\n  \n  passwordChange(pass) {\n    this.setState({\n      password: pass\n    })\n  }\n\n  LoginClick(e) {\n    e.preventDefault(e);\n\n    if (this.state.username === '' || this.state.password === '') { \n      alert('Please fill in all fields');\n    }\n    else{\n      var loginInfo = {\n        \"username\" : this.state.username,\n        \"password\" : this.state.password,\n      }\n\n      $.ajax({\n        url: \"http://localhost:3001/login\",\n        type: 'POST',\n        data: loginInfo,\n        xhrFields: { withCredentials: true },\n        dataType: 'JSON',\n        success: function(data) {\n          this.setState({\n            isLoggedIn: true,\n          });\n        }.bind(this), \n          error: function (xhr, ajaxOptions, thrownError) {\n             alert(xhr.status);\n              alert(thrownError);\n          }.bind(this)\n      });\n      \n  }\n\n\n  }\n\n}\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n   this.usernameChange = this.usernameChange.bind(this);\n   this.passwordChange = this.passwordChange.bind(this);\n   this.LoginClick = this.LoginClick.bind(this);\n  //  this.textInput = null;\n\n }\n\n  usernameChange(e) {\n    e.preventDefault(e);\n    this.props.onUsernameChange(e.target.value);\n  }\n  \n  passwordChange(e) {\n    e.preventDefault(e);\n    this.props.onPasswordChange(e.target.value);\n  }\n\n  LoginClick(e) {\n    e.preventDefault(e);\n    this.props.LoginClick(e);\n  }\n\n  render() {\n      return (\n          <form>\n              <h3>Login</h3>\n\n              <div className=\"form-group\">\n                  <label>Username</label>\n                  <input type=\"text\" className=\"form-control\" placeholder=\"Enter username\" value={this.props.username}\n                  onChange={this.usernameChange}/>\n              </div>\n\n              <div className=\"form-group\">\n                  <label>Password</label>\n                  <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" value={this.props.password}\n                  onChange={this.passwordChange}/>\n              </div>\n\n              <button type=\"button\" className=\"btn btn-primary btn-block\" onClick={this.LoginClick}>Submit</button>\n          </form>\n      );\n  }\n}\n\nclass MainPage extends React.Component{\n  constructor(props) {\n    super(props);\n\n   \n }\n\n  render() {\n\n    return (\n      <div>\n        <div id=\"top\">\n          <div class=\"inline\" >\n              {/* <img class=\"inline\" src='MyApp/public/{this.props.icon}' height=\"50\" width=\"50\"/>  */}\n              <p class=\"inline\" id=\"name\">{this.props.username}</p>\n          </div>\n          <button id=\"logout\" >Log out</button>\n        </div>\n\n        <p class=\"col-left\">Starred Friend List: </p>\n        \n       \n    </div>\n    );\n  }\n}\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}