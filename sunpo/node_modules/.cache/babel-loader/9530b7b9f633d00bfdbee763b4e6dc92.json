{"ast":null,"code":"var _jsxFileName = \"/Users/hiuchunchan/Downloads/4601project/sun/sunpo/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Login from './Login';\nimport TableList from './Table';\nimport Menu from './Menu';\nimport Bills from './Bills';\nimport Home from './Home';\nimport Forecast from './Forecast'; // import sale from './sale';\n// import axios from 'axios';\n// import { withRouter } from 'react-router-dom';\n// import React, { useState, useEffect } from 'react';\n// import { Redirect } from 'react-router-dom'\n// import { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport $ from 'jquery';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: false,\n      userId: '',\n      username: '',\n      password: '',\n      login_fail: 'WELCOME!',\n      user_type: '',\n      active_function: React.createElement(Home, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }),\n      position: '',\n      transinfo: [],\n      tableinfo: [{\n        'tableNumber': '1',\n        'seatTaken': 0,\n        'maxCap': 4,\n        'isFull': false,\n        'tableColor': '',\n        'transaction': []\n      }, {\n        'tableNumber': '2',\n        'seatTaken': 0,\n        'maxCap': 4,\n        'isFull': false,\n        'tableColor': '',\n        'transaction': []\n      }, {\n        'tableNumber': '3',\n        'seatTaken': 0,\n        'maxCap': 4,\n        'isFull': false,\n        'tableColor': '',\n        'transaction': []\n      }, {\n        'tableNumber': '4',\n        'seatTaken': 0,\n        'maxCap': 6,\n        'isFull': false,\n        'tableColor': '',\n        'transaction': []\n      }, {\n        'tableNumber': '5',\n        'seatTaken': 0,\n        'maxCap': 6,\n        'isFull': false,\n        'tableColor': '',\n        'transaction': []\n      }, {\n        'tableNumber': '6',\n        'seatTaken': 0,\n        'maxCap': 6,\n        'isFull': false,\n        'tableColor': '',\n        'transaction': []\n      }, {\n        'tableNumber': '7',\n        'seatTaken': 0,\n        'maxCap': 4,\n        'isFull': false,\n        'tableColor': '',\n        'transaction': []\n      }, {\n        'tableNumber': '8',\n        'seatTaken': 0,\n        'maxCap': 4,\n        'isFull': false,\n        'tableColor': '',\n        'transaction': []\n      }, {\n        'tableNumber': '9',\n        'seatTaken': 0,\n        'maxCap': 4,\n        'isFull': false,\n        'tableColor': '',\n        'transaction': []\n      }, {\n        'tableNumber': '10',\n        'seatTaken': 0,\n        'maxCap': 4,\n        'isFull': false,\n        'tableColor': '',\n        'transaction': []\n      }, {\n        'tableNumber': '11',\n        'seatTaken': 0,\n        'maxCap': 10,\n        'isFull': false,\n        'tableColor': '',\n        'transaction': []\n      }],\n      chosen_tran: [],\n      // users: 'hi',\n      checkDate: false,\n      yesterday_sales: 0,\n      yesterday_itemKg: []\n    };\n    this.usernameChange = this.usernameChange.bind(this);\n    this.passwordChange = this.passwordChange.bind(this);\n    this.LoginClick = this.LoginClick.bind(this);\n    this.LogoutClick = this.LogoutClick.bind(this);\n    this.HomeClick = this.HomeClick.bind(this);\n    this.OrderClick = this.OrderClick.bind(this);\n    this.OrderTableClick = this.OrderTableClick.bind(this);\n    this.AddNewOrder = this.AddNewOrder.bind(this);\n    this.EditCurrOrder = this.EditCurrOrder.bind(this);\n    this.PaybillsClick = this.PaybillsClick.bind(this);\n    this.ForecastClick = this.ForecastClick.bind(this);\n    this.BackTableClick = this.BackTableClick.bind(this);\n    this.PlaceOrderClick = this.PlaceOrderClick.bind(this);\n    this.PayClick = this.PayClick.bind(this);\n  }\n\n  render() {\n    const isLoggedIn = this.state.isLoggedIn;\n    let title, current_page, login_page, menu_page, tablelist, nav, bills, sales, forecast; // let routes = '';\n\n    if (isLoggedIn) {\n      title = '';\n      if (this.state.user_type == \"manager\") forecast = React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"function_btn fas fa-atom\",\n        href: \"https://i.cs.hku.hk/~ywlai/sunpo/index.php\",\n        target: \"blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Forecast's Link\"));else forecast = React.createElement(\"li\", {\n        onClick: this.ForecastClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"function_btn fas fa-atom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \" \\u92B7\\u91CF\\u9810\\u6E2C\"));\n      nav = React.createElement(\"div\", {\n        className: \"nav_bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"fas fa-home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \" SUN PO\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        onClick: this.HomeClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"fas fa-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"\\u6B61\\u8FCE \", this.state.username, \"!\")), React.createElement(\"li\", {\n        onClick: this.OrderClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"function_btn fas fa-shopping-bag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \" \\u9EDE\\u9910\")), React.createElement(\"li\", {\n        onClick: this.PaybillsClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"function_btn fas fa-money-bill-wave\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \" \\u67E5\\u95B1/\\u7D50\\u8CEC\")), forecast, React.createElement(\"li\", {\n        onClick: this.LogoutClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"function_btn fas fa-power-off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \" \\u767B\\u51FA\"))));\n      menu_page = React.createElement(Menu, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      });\n      bills = React.createElement(Bills, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      });\n      tablelist = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.state.active_function);\n    } else {\n      title = React.createElement(\"div\", {\n        id: \"logo_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"SUN PO\");\n      login_page = React.createElement(Login, {\n        username: this.state.username,\n        password: this.state.password // position={this.state.position}\n        ,\n        onUsernameChange: this.usernameChange,\n        onPasswordChange: this.passwordChange,\n        LoginClick: this.LoginClick,\n        login_fail: this.state.login_fail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      });\n      sales = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, this.state.users);\n    }\n\n    return (\n      /* <Link to=\"/login\">login</Link>\n      <Link to=\"/logout\">logout</Link> \n      <Link to=\"/order\">order</Link>\n      <Link to=\"/paybills\">paybills</Link>\n      <Link to=\"/forecast\">forecast</Link>\n      <Link exact to=\"/\">Home</Link>   */\n      React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, title, nav, login_page, tablelist, sales)\n    );\n  } // requireAuth(nextState, replace)\n  // {\n  // if(!this.state.isLoggedIn) // pseudocode - SYNCHRONOUS function (cannot be async without extra callback parameter to this function)\n  // replace('/login');\n  // }\n\n\n  usernameChange(name) {\n    this.setState({\n      username: name\n    });\n  }\n\n  passwordChange(pass) {\n    this.setState({\n      password: pass\n    });\n  }\n\n  componentDidMount() {\n    if (localStorage.loggin === 'true') {\n      this.setState({\n        isLoggedIn: true,\n        username: localStorage.usrname,\n        position: localStorage.position,\n        userId: localStorage.userId\n      });\n      this.pageRefresh(localStorage.usrname, localStorage.password);\n    } // alert(new Date(\"2020-04-19\").toLocaleString());\n\n\n    var months = 0;\n    var datess;\n    var day;\n\n    if (new Date().getDate() == 1) {\n      if (new Date().getMonth() < 10) months = \"0\" + new Date().getMonth();else months = \"\" + new Date().getMonth();\n      if (new Date().getMonth() == 1 || new Date().getMonth() == 3 || new Date().getMonth() == 5 || new Date().getMonth() == 7 || new Date().getMonth() == 8 || new Date().getMonth() == 10 || new Date().getMonth() == 12) day = 31;else if (new Date().getMonth() == 2) {\n        if (new Date().getFullYear % 4 == 0) day = 29;else day = 28;\n      } else if (new Date().getMonth() == 4 || new Date().getMonth() == 6 || new Date().getMonth() == 9 || new Date().getMonth() == 11) day = 30;\n      datess = day.toString() + months.toString() + new Date().getFullYear().toString();\n    } else {\n      if (new Date().getMonth() + 1 < 10) months = \"0\" + (new Date().getMonth() + 1);else months = \"\" + (new Date().getMonth() + 1);\n      datess = (new Date().getDate() - 1).toString() + months.toString() + new Date().getFullYear().toString(); // datess = \"22\" + months.toString() + new Date().getFullYear().toString();\n    } // get yesterday's sale and yesterday's item quantity\n\n\n    $.ajax({\n      url: \"http://localhost:3001/getyesterday/\" + datess,\n      method: \"GET\",\n      xhrFields: {\n        withCredentials: true\n      },\n      success: function (datas) {\n        this.setState({\n          yesterday_sales: datas.dailysales,\n          yesterday_itemKg: this.state.yesterday_itemKg.concat({\n            \"ngaolam\": datas.itemkg.ngaolam,\n            \"suigao\": datas.itemkg.suigao,\n            \"wuntun\": datas.itemkg.wuntun,\n            \"ngoyun\": datas.itemkg.ngoyun,\n            \"yupeigao\": datas.itemkg.yupeigao,\n            \"yudan\": datas.itemkg.yudan,\n            \"yupin\": datas.itemkg.yupin,\n            \"yupei\": datas.itemkg.yupei,\n            \"yugok\": datas.itemkg.yugok,\n            \"yujak\": datas.itemkg.yujak,\n            \"yuyun\": datas.itemkg.yuyun,\n            \"yukyun\": datas.itemkg.yukyun,\n            \"magun\": datas.itemkg.magun,\n            \"jusao\": datas.itemkg.jusao,\n            \"jajueng\": datas.itemkg.jajueng,\n            \"ngaogenyun\": datas.itemkg.ngaogenyun,\n            \"ngaotou\": datas.itemkg.ngaotou,\n            \"ngauzharp\": datas.itemkg.ngauzharp\n          })\n        }); // alert(datas.itemkg.yudan + ' ' + datas.itemkg.ngaolam + ' ' + datas.itemkg.ngauzharp);\n        // alert(this.state.yesterday_itemKg[0].yudan + ' ' + this.state.yesterday_itemKg[0].ngaolam + ' ' + this.state.yesterday_itemKg[0].ngauzharp);\n      }.bind(this),\n      error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    }); // get daily item quantity\n\n    $.ajax({\n      url: \"http://localhost:3001/getitemquantity\",\n      method: \"GET\",\n      xhrFields: {\n        withCredentials: true\n      },\n      success: function (datas) {\n        // alert(datas.latest_date);\n        if (new Date(datas.latest_date).getDate() < new Date().getDate() - 1 || new Date(datas.latest_date).getMonth() < new Date().getMonth()) {\n          //insert item quantity\n          var month = 0;\n          var date;\n          var day;\n\n          if (new Date().getDate() == 1) {\n            if (new Date().getMonth() < 10) month = \"0\" + new Date().getMonth();else month = \"\" + new Date().getMonth();\n            if (new Date().getMonth() == 1 || new Date().getMonth() == 3 || new Date().getMonth() == 5 || new Date().getMonth() == 7 || new Date().getMonth() == 8 || new Date().getMonth() == 10 || new Date().getMonth() == 12) day = 31;else if (new Date().getMonth() == 2) {\n              if (new Date().getFullYear % 4 == 0) day = 29;else day = 28;\n            } else if (new Date().getMonth() == 4 || new Date().getMonth() == 6 || new Date().getMonth() == 9 || new Date().getMonth() == 11) day = 30;\n            date = new Date().getFullYear() + \"-\" + month + \"-\" + day;\n          } else {\n            if (new Date().getMonth() + 1 < 10) month = \"0\" + (new Date().getMonth() + 1);else month = \"\" + (new Date().getMonth() + 1);\n            date = new Date().getFullYear() + \"-\" + month + \"-\" + (new Date().getDate() - 1); // date = new Date().getFullYear() + \"-\" + month + \"-\" + 22;\n          }\n\n          var url = \"http://localhost:3001/insertitemquantity\";\n          var itemkg = this.state.yesterday_itemKg;\n          var userinfo;\n          itemkg.map((it, i) => {\n            userinfo = {\n              'dates': date,\n              \"ngaolam\": it.ngaolam,\n              \"suigao\": it.suigao,\n              \"wuntun\": it.wuntun,\n              \"ngoyun\": it.ngoyun,\n              \"yupeigao\": it.yupeigao,\n              \"yudan\": it.yudan,\n              \"yupin\": it.yupin,\n              \"yupei\": it.yupei,\n              \"yugok\": it.yugok,\n              \"yujak\": it.yujak,\n              \"yuyun\": it.yuyun,\n              \"yukyun\": it.yukyun,\n              \"magun\": it.magun,\n              \"jusao\": it.jusao,\n              \"jajueng\": it.jajueng,\n              \"ngaogenyun\": it.ngaogenyun,\n              \"ngaotou\": it.ngaotou,\n              \"ngauzharp\": it.ngauzharp\n            };\n          }); // alert(itemkg[0].yudan);\n          // alert(this.state.yesterday_itemKg[0].yudan);\n\n          $.ajax({\n            url: url,\n            method: \"POST\",\n            data: userinfo,\n            xhrFields: {\n              withCredentials: true\n            },\n            success: function (data) {// alert(data.status + \" inserting item quantity\");\n              // alert(data.item);\n            }.bind(this),\n            error: function (xhr, ajaxOptions, thrownError) {\n              alert(xhr.status);\n              alert(thrownError);\n            }\n          });\n        }\n      }.bind(this),\n      error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    }); //get dailysales\n\n    $.ajax({\n      url: \"http://localhost:3001/getdailysales\",\n      method: \"GET\",\n      xhrFields: {\n        withCredentials: true\n      },\n      success: function (datas) {\n        // alert(datas.dataGet[1].id + \" \" +datas.dataGet[1].Date + \" \" +datas.dataGet[1].Sales);\n        // alert(new Date(datas.latest_date).toLocaleString() + \" \" + new Date().toLocaleString());\n        // alert(new Date(datas.latest_date).getFullYear() + \" \" + (new Date(datas.latest_date).getMonth()+1) + \" \" + new Date(datas.latest_date).getDate());\n        if (new Date(datas.latest_date).getDate() < new Date().getDate() - 1 || new Date(datas.latest_date).getMonth() < new Date().getMonth()) {\n          //insert sale\n          var month = 0;\n          var date;\n          var day;\n\n          if (new Date().getDate() == 1) {\n            if (new Date().getMonth() < 10) month = \"0\" + new Date().getMonth();else month = \"\" + new Date().getMonth();\n            if (new Date().getMonth() == 1 || new Date().getMonth() == 3 || new Date().getMonth() == 5 || new Date().getMonth() == 7 || new Date().getMonth() == 8 || new Date().getMonth() == 10 || new Date().getMonth() == 12) day = 31;else if (new Date().getMonth() == 2) {\n              if (new Date().getFullYear % 4 == 0) day = 29;else day = 28;\n            } else if (new Date().getMonth() == 4 || new Date().getMonth() == 6 || new Date().getMonth() == 9 || new Date().getMonth() == 11) day = 30;\n            date = new Date().getFullYear() + \"-\" + month + \"-\" + day;\n          } else {\n            if (new Date().getMonth() + 1 < 10) month = \"0\" + (new Date().getMonth() + 1);else month = \"\" + (new Date().getMonth() + 1);\n            date = new Date().getFullYear() + \"-\" + month + \"-\" + (new Date().getDate() - 1); // date = new Date().getFullYear() + \"-\" + month + \"-\" + 22;\n          }\n\n          var url = \"http://localhost:3001/insertsale\";\n          var userinfo = {\n            'dates': date,\n            'sales': this.state.yesterday_sales\n          };\n          $.ajax({\n            url: url,\n            method: \"POST\",\n            data: userinfo,\n            xhrFields: {\n              withCredentials: true\n            },\n            success: function (data) {// alert(data.status + \" inserting\");\n            }.bind(this),\n            error: function (xhr, ajaxOptions, thrownError) {\n              alert(xhr.status);\n              alert(thrownError);\n            }\n          });\n        } else if (new Date(datas.latest_date).getDate() == new Date().getDate()) {// update sales\n          // var month = 0;\n          // if((new Date().getMonth()+1) < 10)\n          //   month = \"0\" + (new Date().getMonth()+1);\n          // var date = new Date().getFullYear() + \"-\" + month + \"-\" + new Date().getDate();\n          // var url = \"http://localhost:3001/updatesale\";\n          // var userinfo = {'dates': date, 'sales': \"25000\"};\n          // $.ajax({\n          //   url: url,\n          //   method: \"PUT\",\n          //   data: userinfo,\n          //   xhrFields: {\n          //     withCredentials: true\n          //   },\n          //   success:function(data){\n          //     alert(data.status +\" updating\");\n          //   }.bind(this),\n          //   error:function (xhr, ajaxOptions, thrownError) {\n          //     alert(xhr.status);\n          //     alert(thrownError);\n          //   }\n          // });\n        }\n      }.bind(this),\n      error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    }); //get transaction\n\n    $.ajax({\n      url: \"http://localhost:3001/gettransaction\",\n      method: \"GET\",\n      xhrFields: {\n        withCredentials: true\n      },\n      success: function (datas) {\n        if (datas.message === \"Login Success!\") {\n          alert(\"success\");\n        } // alert(datas.tran[0].products[0].name+\" \"+datas.tran[0].products[0].price+\" \"+datas.tran[0].products[0].originalPrice+\" \"+\n        // datas.tran[0].products[0].quantity+\" \"+datas.tran[0].products[0].custom[0]+\" \"+datas.tran[0].totalPrice+' '+\n        // datas.tran[0].tranId+\" \"+datas.tran[0].tableNumber+\" \"+datas.tran[0].transTime+\" \"+datas.tran[0].orderStatus+\" \"+datas.tran[0].seatTaken);\n\n\n        for (var i in datas.tran) {\n          if (datas.tran[i].orderStatus == \"proceeding\") {\n            this.setState({\n              transinfo: this.state.transinfo.concat({\n                \"tranId\": datas.tran[i].tranId,\n                \"userId\": datas.tran[i].userId,\n                \"products\": datas.tran[i].products,\n                \"totalPrice\": datas.tran[i].totalPrice,\n                \"tableNumber\": datas.tran[i].tableNumber,\n                \"orderStatus\": datas.tran[i].orderStatus,\n                \"transTime\": datas.tran[i].transTime,\n                \"seatTaken\": datas.tran[i].seatTaken\n              })\n            });\n          }\n        }\n      }.bind(this),\n      error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    });\n    setTimeout(function () {\n      this.state.tableinfo.map((table, index) => {\n        this.state.transinfo.map((tran, i) => {\n          if (tran.tableNumber === table.tableNumber) {\n            let items = [...this.state.tableinfo];\n            let item = { ...items[index]\n            };\n            item.seatTaken = item.seatTaken + tran.seatTaken;\n            item.transaction = item.transaction.concat(tran.tranId);\n            items[index] = item;\n            this.setState({\n              tableinfo: items\n            });\n          }\n        });\n      });\n      this.state.tableinfo.map((table, index) => {\n        if (table.maxCap <= table.seatTaken) {\n          let items = [...this.state.tableinfo];\n          let item = { ...items[index]\n          };\n          item.isFull = true;\n          items[index] = item;\n          this.setState({\n            tableinfo: items\n          });\n        }\n      });\n      this.state.tableinfo.map((table, index) => {\n        let items = [...this.state.tableinfo];\n        let item = { ...items[index]\n        };\n\n        if (table.isFull === true) {\n          item.tableColor = '#d43b3b';\n        } else if (table.isFull !== true && table.seatTaken > 0) {\n          item.tableColor = '#ebae3b';\n        } else {\n          item.tableColor = \"#88D969\";\n        }\n\n        if (table.tableNumber === \"11\") {\n          item.tableColor = 'lightgrey';\n        }\n\n        items[index] = item;\n        this.setState({\n          tableinfo: items\n        });\n\n        if (table.transaction && table.transaction.length > 0) {// alert(\"Table \"+table.tableNumber + \" has transaction\");\n          // alert(table.transaction[0]);\n        }\n      });\n    }.bind(this), 100);\n  }\n\n  pageRefresh(usrname, password) {\n    var url = \"http://localhost:3001/login\";\n    var userinfo = {\n      'username': usrname,\n      'password': password\n    };\n    $.ajax({\n      url: url,\n      method: \"POST\",\n      data: userinfo,\n      xhrFields: {\n        withCredentials: true\n      },\n      success: function (data) {\n        if (data.message === \"Login Success!\") {\n          this.setState({});\n        } else {\n          this.setState({\n            userId: '',\n            username: '',\n            password: '',\n            isLoggedIn: false,\n            login_fail: \"LOGIN FAILURE\"\n          });\n        }\n      }.bind(this),\n      error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    });\n  }\n\n  LoginClick(e) {\n    if (this.state.username === '' || this.state.password === '') {\n      // alert('Please fill in all fields');\n      this.setState({\n        login_fail: 'PLEASE FILL IN ALL FIELDS!'\n      });\n    } else {\n      localStorage.setItem('usrname', this.state.username);\n      localStorage.setItem('password', this.state.password);\n      var loginInfo = {\n        \"username\": this.state.username,\n        \"password\": this.state.password\n      };\n      $.ajax({\n        url: \"http://localhost:3001/login\",\n        type: 'POST',\n        data: loginInfo,\n        xhrFields: {\n          withCredentials: true\n        },\n        // dataType: 'JSON',\n        success: function (data) {\n          if (data.message === \"Login Success!\") {\n            localStorage.setItem('loggin', 'true');\n            localStorage.setItem('position', data.position);\n            localStorage.setItem('userId', data.id); // alert(data.id);\n\n            this.setState({\n              isLoggedIn: true,\n              login_fail: 'WELCOME!',\n              position: data.position,\n              userId: localStorage.userId\n            });\n          } else {\n            this.setState({\n              username: '',\n              password: '',\n              isLoggedIn: false,\n              login_fail: \"LOGIN FAILURE\",\n              userId: ''\n            });\n          }\n        }.bind(this),\n        error: function (xhr, ajaxOptions, thrownError) {\n          alert(xhr.status);\n          alert(thrownError);\n        }\n      });\n    }\n\n    e.preventDefault(e);\n  }\n\n  LogoutClick() {\n    $.ajax({\n      url: \"http://localhost:3001/logout\",\n      method: \"GET\",\n      xhrFields: {\n        withCredentials: true\n      },\n      success: function (data) {\n        // clear stored user state after logout\n        localStorage.setItem('loggin', 'false');\n        localStorage.setItem('usrname', '');\n        localStorage.setItem('password', ''); // clear timer\n        // clearInterval(this.timerID);\n\n        this.setState({\n          username: '',\n          password: '',\n          isLoggedIn: false,\n          login_fail: \"SUCCESSFULLY LOGOUT!\"\n        });\n      }.bind(this),\n      error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    });\n  }\n\n  HomeClick(e) {\n    this.setState({\n      active_function: React.createElement(Home, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562\n        },\n        __self: this\n      })\n    }); // window.print();\n  }\n\n  OrderClick(e) {\n    this.setState({\n      // payBills: false,\n      active_function: React.createElement(TableList, {\n        AddNewOrder: this.AddNewOrder,\n        OrderTableClick: this.OrderTableClick,\n        EditCurrOrder: this.EditCurrOrder,\n        payBills: '點餐',\n        tableinfo: this.state.tableinfo,\n        transinfo: this.state.transinfo // edit_or_delete={this.edit_or_delete}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 570\n        },\n        __self: this\n      })\n    });\n  }\n\n  AddNewOrder(e, data) {\n    let tableNumber = '';\n    if (data[2] == '0') tableNumber = '10';else if (data[2] == '1') tableNumber = '11';else tableNumber = data[1];\n\n    if (data[0] == 1 && this.state.tableinfo[parseInt(tableNumber) - 1].isFull == false) {\n      this.setState({\n        active_function: React.createElement(Menu, {\n          BackTableClick: this.BackTableClick,\n          PlaceOrderClick: this.PlaceOrderClick,\n          tableNumber: tableNumber,\n          userId: this.state.userId,\n          chosen_tran: '',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 592\n          },\n          __self: this\n        })\n      });\n    } else if (data[0] == 2) {// this.setState({\n      //   active_function: <Bills BackTableClick = {this.BackTableClick}\n      //                           PayClick = {this.PayClick}\n      //                           chosen_tran={this.state.chosen_tran}\n      //                     />,\n      // })\n      // alert(data[0]);\n    }\n  }\n\n  OrderTableClick(e, data) {\n    // alert(data[0]+data[1]+data[2]);\n    var chosen_tran = [];\n    var data_tranId = data.slice(1);\n    this.state.transinfo.map(tran => {\n      if (tran.tranId === data_tranId) {\n        chosen_tran = chosen_tran.concat(tran);\n      }\n    });\n\n    if (data[0] == 2) {\n      this.setState({\n        active_function: React.createElement(Bills, {\n          BackTableClick: this.BackTableClick,\n          PayClick: this.PayClick,\n          chosen_tran: chosen_tran,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 624\n          },\n          __self: this\n        })\n      });\n    }\n  }\n\n  EditCurrOrder(e, data) {\n    // alert(data);\n    var chosen_tran = [];\n    var data_tranId = data;\n    this.state.transinfo.map(tran => {\n      if (tran.tranId === data_tranId) {\n        chosen_tran = chosen_tran.concat(tran);\n      }\n    });\n    this.setState({\n      active_function: React.createElement(Menu, {\n        BackTableClick: this.BackTableClick,\n        PlaceOrderClick: this.PlaceOrderClick // tableNumber = {tbnum}\n        ,\n        userId: this.state.userId,\n        chosen_tran: chosen_tran,\n        data_tranId: data_tranId // num_of_people={}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 643\n        },\n        __self: this\n      })\n    }); // this.setState({\n    //   active_function: <Home/>\n    // })\n  }\n\n  DeleteCurrOrder(e, data) {// delete current order\n  }\n\n  PaybillsClick(e) {\n    this.setState({\n      // payBills: true,\n      active_function: React.createElement(TableList, {\n        AddNewOrder: this.AddNewOrder,\n        OrderTableClick: this.OrderTableClick,\n        EditCurrOrder: this.EditCurrOrder,\n        payBills: '結賬',\n        tableinfo: this.state.tableinfo,\n        transinfo: this.state.transinfo // edit_or_delete={this.edit_or_delete}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 664\n        },\n        __self: this\n      }) // active_function: <Menu/>,\n\n    });\n  }\n\n  ForecastClick(e) {\n    if (this.state.position == \"manager\") {\n      this.setState({\n        active_function: React.createElement(Forecast, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 680\n          },\n          __self: this\n        })\n      });\n    } else {\n      alert(\"Permitted Action!\"); // this.props.history.push('/home/');\n      // return(\n      //   <Redirect to={{\n      //     pathname: '/home',\n      //     // state: { id: '123' }\n      // }} />\n      //   <Route>\n      // return <Redirect to='/home' />\n      // <Redirect path=\"/home\" />\n      // </Route>\n      // )\n    }\n  }\n\n  BackTableClick(e, data) {\n    // alert(data[0]);\n    if (data[0] == 1) this.setState({\n      active_function: React.createElement(TableList, {\n        AddNewOrder: this.AddNewOrder,\n        OrderTableClick: this.OrderTableClick,\n        EditCurrOrder: this.EditCurrOrder,\n        payBills: '結賬',\n        tableinfo: this.state.tableinfo,\n        transinfo: this.state.transinfo // edit_or_delete={this.edit_or_delete}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 706\n        },\n        __self: this\n      })\n    });else this.setState({\n      active_function: React.createElement(TableList, {\n        AddNewOrder: this.AddNewOrder,\n        OrderTableClick: this.OrderTableClick,\n        EditCurrOrder: this.EditCurrOrder,\n        payBills: '結賬',\n        tableinfo: this.state.tableinfo,\n        transinfo: this.state.transinfo // edit_or_delete={this.edit_or_delete}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 718\n        },\n        __self: this\n      })\n    });\n  }\n\n  PlaceOrderClick(e, data) {\n    this.setState({\n      active_function: React.createElement(Home, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 732\n        },\n        __self: this\n      })\n    });\n  }\n\n  PayClick(e, datass) {\n    var confirmation = window.confirm('你是否要結賬？');\n\n    if (confirmation === true) {\n      // alert(data);\n      this.setState({\n        active_function: React.createElement(Home, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 741\n          },\n          __self: this\n        })\n      }); // update transation orderStatus\n\n      var url = \"http://localhost:3001/orderfinished\";\n      var datas = {\n        \"tranId\": datass\n      };\n      $.ajax({\n        url: url,\n        method: \"PUT\",\n        data: datas,\n        xhrFields: {\n          withCredentials: true\n        },\n        success: function (data) {\n          alert(\"成功結賬，交易編號：\" + datass);\n        }.bind(this),\n        error: function (xhr, ajaxOptions, thrownError) {\n          alert(xhr.status);\n          alert(thrownError);\n        }\n      });\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/hiuchunchan/Downloads/4601project/sun/sunpo/src/App.js"],"names":["React","Login","TableList","Menu","Bills","Home","Forecast","$","BrowserRouter","Router","Switch","Route","Link","App","Component","constructor","props","state","isLoggedIn","userId","username","password","login_fail","user_type","active_function","position","transinfo","tableinfo","chosen_tran","checkDate","yesterday_sales","yesterday_itemKg","usernameChange","bind","passwordChange","LoginClick","LogoutClick","HomeClick","OrderClick","OrderTableClick","AddNewOrder","EditCurrOrder","PaybillsClick","ForecastClick","BackTableClick","PlaceOrderClick","PayClick","render","title","current_page","login_page","menu_page","tablelist","nav","bills","sales","forecast","users","name","setState","pass","componentDidMount","localStorage","loggin","usrname","pageRefresh","months","datess","day","Date","getDate","getMonth","getFullYear","toString","ajax","url","method","xhrFields","withCredentials","success","datas","dailysales","concat","itemkg","ngaolam","suigao","wuntun","ngoyun","yupeigao","yudan","yupin","yupei","yugok","yujak","yuyun","yukyun","magun","jusao","jajueng","ngaogenyun","ngaotou","ngauzharp","error","xhr","ajaxOptions","thrownError","alert","status","latest_date","month","date","userinfo","map","it","i","data","message","tran","orderStatus","tranId","products","totalPrice","tableNumber","transTime","seatTaken","setTimeout","table","index","items","item","transaction","maxCap","isFull","tableColor","length","e","setItem","loginInfo","type","id","preventDefault","parseInt","data_tranId","slice","DeleteCurrOrder","datass","confirmation","window","confirm"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport Login from './Login';\nimport TableList from './Table';\nimport Menu from './Menu';\nimport Bills from './Bills';\nimport Home from './Home';\nimport Forecast from './Forecast';\n// import sale from './sale';\n// import axios from 'axios';\n// import { withRouter } from 'react-router-dom';\n// import React, { useState, useEffect } from 'react';\n// import { Redirect } from 'react-router-dom'\n// import { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport $ from 'jquery';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nclass App extends React.Component{\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoggedIn: false,\n      userId: '',\n      username: '',\n      password: '',\n      login_fail: 'WELCOME!',\n      user_type: '',\n      active_function: <Home/>,\n      position: '',\n      transinfo: [],\n        tableinfo: [{'tableNumber': '1','seatTaken': 0, 'maxCap': 4, 'isFull': false, 'tableColor': '', 'transaction':[]}, \n      {'tableNumber': '2','seatTaken': 0, 'maxCap': 4, 'isFull': false, 'tableColor': '', 'transaction': []},\n      {'tableNumber': '3','seatTaken': 0, 'maxCap': 4, 'isFull': false, 'tableColor': '', 'transaction': []}, \n      {'tableNumber': '4','seatTaken': 0, 'maxCap': 6, 'isFull': false, 'tableColor': '', 'transaction': []}, \n      {'tableNumber': '5','seatTaken': 0, 'maxCap': 6, 'isFull': false, 'tableColor': '', 'transaction': []},\n      {'tableNumber': '6','seatTaken': 0, 'maxCap': 6, 'isFull': false, 'tableColor': '', 'transaction': []}, \n      {'tableNumber': '7','seatTaken': 0, 'maxCap': 4, 'isFull': false, 'tableColor': '', 'transaction': []}, \n      {'tableNumber': '8','seatTaken': 0, 'maxCap': 4, 'isFull': false, 'tableColor': '', 'transaction': []},\n      {'tableNumber': '9','seatTaken': 0, 'maxCap': 4, 'isFull': false, 'tableColor': '', 'transaction': []}, \n      {'tableNumber': '10','seatTaken': 0, 'maxCap': 4, 'isFull': false, 'tableColor': '', 'transaction':[]},\n      {'tableNumber': '11','seatTaken': 0, 'maxCap': 10, 'isFull': false, 'tableColor': '', 'transaction':[]}],\n      chosen_tran: [],\n      // users: 'hi',\n      checkDate: false,\n      yesterday_sales: 0,\n      yesterday_itemKg: [],\n    };\n    this.usernameChange = this.usernameChange.bind(this);\n    this.passwordChange = this.passwordChange.bind(this);\n    this.LoginClick = this.LoginClick.bind(this);\n    this.LogoutClick = this.LogoutClick.bind(this);\n    this.HomeClick = this.HomeClick.bind(this);\n    this.OrderClick = this.OrderClick.bind(this);\n    this.OrderTableClick = this.OrderTableClick.bind(this);\n    this.AddNewOrder = this.AddNewOrder.bind(this);\n    this.EditCurrOrder = this.EditCurrOrder.bind(this);\n    this.PaybillsClick = this.PaybillsClick.bind(this);\n    this.ForecastClick = this.ForecastClick.bind(this);\n    this.BackTableClick = this.BackTableClick.bind(this);\n    this.PlaceOrderClick = this.PlaceOrderClick.bind(this);\n    this.PayClick = this.PayClick.bind(this);\n  }\n\n  render(){\n    const isLoggedIn = this.state.isLoggedIn;\n    let title, current_page, login_page, menu_page, tablelist, nav, bills, sales, forecast;\n    // let routes = '';\n\n    if (isLoggedIn) {\n      title = '';\n       if(this.state.user_type == \"manager\")\n        forecast = <li><a className=\"function_btn fas fa-atom\" href=\"https://i.cs.hku.hk/~ywlai/sunpo/index.php\" target=\"blank\">Forecast's Link</a></li>\n      else\n        forecast = <li onClick={this.ForecastClick}><a className=\"function_btn fas fa-atom\"> 銷量預測</a></li>\n        \n      nav = <div className=\"nav_bar\">\n              <h4 className=\"fas fa-home\"> SUN PO</h4>\n              <ul>\n    <li onClick={this.HomeClick}><div className=\"fas fa-user\">歡迎 {this.state.username}!</div></li>\n                {/* <li tabindex=\"1\"></li> */}\n                <li onClick={this.OrderClick}><a className=\"function_btn fas fa-shopping-bag\"> 點餐</a></li>\n                {/* <Link to=\"/order\"><li onClick={this.OrderClick}><a class=\"function_btn fas fa-shopping-bag\">點餐</a></li></Link> */}\n                <li onClick={this.PaybillsClick}><a className=\"function_btn fas fa-money-bill-wave\"> 查閱/結賬</a></li>\n                {forecast}\n                <li onClick={this.LogoutClick}><a className=\"function_btn fas fa-power-off\"> 登出</a></li>\n              </ul>\n            </div>\n      \n     \n\n      menu_page = <Menu/>\n      bills = <Bills/>\n        tablelist = <div>{this.state.active_function}</div>\n    }\n    else{\n      title = <div id=\"logo_title\">SUN PO</div>\n      login_page = <Login\n      username={this.state.username}\n      password={this.state.password}\n      // position={this.state.position}\n      onUsernameChange={this.usernameChange}\n      onPasswordChange={this.passwordChange}\n      LoginClick={this.LoginClick}\n      login_fail={this.state.login_fail}\n      />\n      sales = <div>{this.state.users}</div>\n\n    }\n\n    return (\n      \n        /* <Link to=\"/login\">login</Link>\n       <Link to=\"/logout\">logout</Link> \n      <Link to=\"/order\">order</Link>\n      <Link to=\"/paybills\">paybills</Link>\n      <Link to=\"/forecast\">forecast</Link>\n    <Link exact to=\"/\">Home</Link>   */\n     <div className=\"App\">\n        {title}\n        {nav}\n        {login_page}\n        {/* {routes} */}\n        {tablelist}\n        {/* {menu_page} */}\n        {/* {bills} */}\n        {sales}\n      </div>\n        \n    );\n  }\n  // requireAuth(nextState, replace)\n  // {\n  // if(!this.state.isLoggedIn) // pseudocode - SYNCHRONOUS function (cannot be async without extra callback parameter to this function)\n  // replace('/login');\n  // }\n\n  usernameChange(name) {\n    this.setState({\n      username: name\n    })\n  }\n\n  passwordChange(pass) {\n    this.setState({\n      password: pass\n    })\n  }\n\n  componentDidMount(){\n    if(localStorage.loggin === 'true'){\n      this.setState({\n        isLoggedIn: true,\n        username: localStorage.usrname,\n        position: localStorage.position,\n        userId: localStorage.userId,\n      });\n      this.pageRefresh(localStorage.usrname, localStorage.password);\n    }\n\n    // alert(new Date(\"2020-04-19\").toLocaleString());\n    var months = 0;\n    var datess;\n    var day;\n    if (new Date().getDate() == 1){\n      if((new Date().getMonth()) < 10)\n        months = \"0\" + (new Date().getMonth());\n      else\n        months = \"\" + (new Date().getMonth());\n      if(new Date().getMonth() == 1 || new Date().getMonth() == 3 || new Date().getMonth() == 5 || new Date().getMonth() == 7 || \n      new Date().getMonth() == 8 || new Date().getMonth() == 10 || new Date().getMonth() == 12) day = 31;\n      else if (new Date().getMonth() == 2) if(new Date().getFullYear%4 == 0) day = 29; else day = 28;\n      else if (new Date().getMonth() == 4 || new Date().getMonth() == 6 || new Date().getMonth() == 9 || new Date().getMonth() == 11) day = 30;\n      datess = day.toString() + months.toString() + new Date().getFullYear().toString();\n    } else{\n      if((new Date().getMonth()+1) < 10)\n        months = \"0\" + (new Date().getMonth()+1);\n      else\n        months = \"\" + (new Date().getMonth()+1);\n      datess = (new Date().getDate()-1).toString() + months.toString() + new Date().getFullYear().toString();\n      // datess = \"22\" + months.toString() + new Date().getFullYear().toString();\n    }\n    \n    // get yesterday's sale and yesterday's item quantity\n    $.ajax({\n      url:\"http://localhost:3001/getyesterday/\"+ datess,\n      method:\"GET\",\n      xhrFields: {\n        withCredentials: true\n      },\n      success: function(datas){\n        this.setState({\n          yesterday_sales: datas.dailysales,\n          yesterday_itemKg: this.state.yesterday_itemKg.concat({\"ngaolam\": datas.itemkg.ngaolam, \"suigao\": datas.itemkg.suigao, \"wuntun\": datas.itemkg.wuntun, \n          \"ngoyun\": datas.itemkg.ngoyun, \"yupeigao\": datas.itemkg.yupeigao, \"yudan\": datas.itemkg.yudan, \"yupin\": datas.itemkg.yupin, \n          \"yupei\": datas.itemkg.yupei, \"yugok\": datas.itemkg.yugok, \"yujak\": datas.itemkg.yujak, \"yuyun\": datas.itemkg.yuyun, \"yukyun\": datas.itemkg.yukyun,\n          \"magun\": datas.itemkg.magun, \"jusao\": datas.itemkg.jusao, \"jajueng\": datas.itemkg.jajueng, \"ngaogenyun\": datas.itemkg.ngaogenyun, \n          \"ngaotou\": datas.itemkg.ngaotou, \"ngauzharp\": datas.itemkg.ngauzharp,}),\n        });\n        // alert(datas.itemkg.yudan + ' ' + datas.itemkg.ngaolam + ' ' + datas.itemkg.ngauzharp);\n        // alert(this.state.yesterday_itemKg[0].yudan + ' ' + this.state.yesterday_itemKg[0].ngaolam + ' ' + this.state.yesterday_itemKg[0].ngauzharp);\n      }.bind(this),\n      error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    });\n    // get daily item quantity\n    $.ajax({\n      url:\"http://localhost:3001/getitemquantity\",\n      method:\"GET\",\n      xhrFields: {\n        withCredentials: true\n      },\n      success: function(datas){\n        // alert(datas.latest_date);\n\n        if( (new Date(datas.latest_date).getDate() < (new Date().getDate()-1)) || new Date(datas.latest_date).getMonth() < (new Date().getMonth())){\n          //insert item quantity\n          var month = 0;\n          var date;\n          var day;\n          if (new Date().getDate() == 1){\n            if((new Date().getMonth()) < 10)\n              month = \"0\" + (new Date().getMonth());\n            else\n              month = \"\" + (new Date().getMonth());\n            if(new Date().getMonth() == 1 || new Date().getMonth() == 3 || new Date().getMonth() == 5 || new Date().getMonth() == 7 || \n            new Date().getMonth() == 8 || new Date().getMonth() == 10 || new Date().getMonth() == 12) day = 31;\n            else if (new Date().getMonth() == 2) if(new Date().getFullYear%4 == 0) day = 29; else day = 28;\n            else if (new Date().getMonth() == 4 || new Date().getMonth() == 6 || new Date().getMonth() == 9 || new Date().getMonth() == 11) day = 30;\n            date = new Date().getFullYear() + \"-\" + month + \"-\" + day;\n          } else{\n            if((new Date().getMonth()+1) < 10)\n              month = \"0\" + (new Date().getMonth()+1);\n            else\n              month = \"\" + (new Date().getMonth()+1);\n            date = new Date().getFullYear() + \"-\" + month + \"-\" + (new Date().getDate()-1);\n            // date = new Date().getFullYear() + \"-\" + month + \"-\" + 22;\n          }\n          var url = \"http://localhost:3001/insertitemquantity\";\n          var itemkg = this.state.yesterday_itemKg;\n          var userinfo;\n          itemkg.map((it, i) => {\n          userinfo = {'dates': date, \"ngaolam\": it.ngaolam, \"suigao\": it.suigao, \"wuntun\": it.wuntun, \n          \"ngoyun\": it.ngoyun, \"yupeigao\": it.yupeigao, \"yudan\": it.yudan, \"yupin\": it.yupin, \n          \"yupei\": it.yupei, \"yugok\": it.yugok, \"yujak\": it.yujak, \"yuyun\": it.yuyun, \"yukyun\": it.yukyun,\n          \"magun\": it.magun, \"jusao\": it.jusao, \"jajueng\": it.jajueng, \"ngaogenyun\": it.ngaogenyun, \"ngaotou\": it.ngaotou, \"ngauzharp\": it.ngauzharp} \n        });\n          // alert(itemkg[0].yudan);\n          // alert(this.state.yesterday_itemKg[0].yudan);\n          $.ajax({\n            url: url,\n            method: \"POST\",\n            data: userinfo,\n            xhrFields: {\n              withCredentials: true\n            },\n            success:function(data){\n              // alert(data.status + \" inserting item quantity\");\n              // alert(data.item);\n            }.bind(this),\n            error:function (xhr, ajaxOptions, thrownError) {\n              alert(xhr.status);\n              alert(thrownError);\n            }\n          });\n        }\n      }.bind(this),\n      error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    });\n    \n    //get dailysales\n    $.ajax({\n      url:\"http://localhost:3001/getdailysales\",\n      method:\"GET\",\n      xhrFields: {\n        withCredentials: true\n      },\n      success: function(datas){\n          // alert(datas.dataGet[1].id + \" \" +datas.dataGet[1].Date + \" \" +datas.dataGet[1].Sales);\n          // alert(new Date(datas.latest_date).toLocaleString() + \" \" + new Date().toLocaleString());\n          // alert(new Date(datas.latest_date).getFullYear() + \" \" + (new Date(datas.latest_date).getMonth()+1) + \" \" + new Date(datas.latest_date).getDate());\n          if( new Date(datas.latest_date).getDate() < (new Date().getDate()-1) || new Date(datas.latest_date).getMonth() < (new Date().getMonth())){\n            //insert sale\n            var month = 0;\n            var date;\n            var day;\n            if (new Date().getDate() == 1){\n              if((new Date().getMonth()) < 10)\n                month = \"0\" + (new Date().getMonth());\n              else\n                month = \"\" + (new Date().getMonth());\n              if(new Date().getMonth() == 1 || new Date().getMonth() == 3 || new Date().getMonth() == 5 || new Date().getMonth() == 7 || \n              new Date().getMonth() == 8 || new Date().getMonth() == 10 || new Date().getMonth() == 12) day = 31;\n              else if (new Date().getMonth() == 2) if(new Date().getFullYear%4 == 0) day = 29; else day = 28;\n              else if (new Date().getMonth() == 4 || new Date().getMonth() == 6 || new Date().getMonth() == 9 || new Date().getMonth() == 11) day = 30;\n              date = new Date().getFullYear() + \"-\" + month + \"-\" + day;\n            } else{\n              if((new Date().getMonth()+1) < 10)\n                month = \"0\" + (new Date().getMonth()+1);\n              else\n                month = \"\" + (new Date().getMonth()+1);\n              date = new Date().getFullYear() + \"-\" + month + \"-\" + (new Date().getDate()-1);\n              // date = new Date().getFullYear() + \"-\" + month + \"-\" + 22;\n            }\n            var url = \"http://localhost:3001/insertsale\";\n            var userinfo = {'dates': date, 'sales': this.state.yesterday_sales};\n            $.ajax({\n              url: url,\n              method: \"POST\",\n              data: userinfo,\n              xhrFields: {\n                withCredentials: true\n              },\n              success:function(data){\n                // alert(data.status + \" inserting\");\n              }.bind(this),\n              error:function (xhr, ajaxOptions, thrownError) {\n                alert(xhr.status);\n                alert(thrownError);\n              }\n            });\n          } else if (new Date(datas.latest_date).getDate() == new Date().getDate()){\n            // update sales\n            // var month = 0;\n            // if((new Date().getMonth()+1) < 10)\n            //   month = \"0\" + (new Date().getMonth()+1);\n            // var date = new Date().getFullYear() + \"-\" + month + \"-\" + new Date().getDate();\n            // var url = \"http://localhost:3001/updatesale\";\n            // var userinfo = {'dates': date, 'sales': \"25000\"};\n            // $.ajax({\n            //   url: url,\n            //   method: \"PUT\",\n            //   data: userinfo,\n            //   xhrFields: {\n            //     withCredentials: true\n            //   },\n            //   success:function(data){\n            //     alert(data.status +\" updating\");\n            //   }.bind(this),\n            //   error:function (xhr, ajaxOptions, thrownError) {\n            //     alert(xhr.status);\n            //     alert(thrownError);\n            //   }\n            // });\n          }\n      }.bind(this),\n      error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    });\n\n     //get transaction\n     $.ajax({\n      url:\"http://localhost:3001/gettransaction\",\n      method:\"GET\",\n      xhrFields: {\n        withCredentials: true\n      },\n      success: function(datas){\n          if (datas.message === \"Login Success!\"){\n              alert(\"success\");\n          }\n          // alert(datas.tran[0].products[0].name+\" \"+datas.tran[0].products[0].price+\" \"+datas.tran[0].products[0].originalPrice+\" \"+\n          // datas.tran[0].products[0].quantity+\" \"+datas.tran[0].products[0].custom[0]+\" \"+datas.tran[0].totalPrice+' '+\n          // datas.tran[0].tranId+\" \"+datas.tran[0].tableNumber+\" \"+datas.tran[0].transTime+\" \"+datas.tran[0].orderStatus+\" \"+datas.tran[0].seatTaken);\n          for (var i in datas.tran){\n              if(datas.tran[i].orderStatus == \"proceeding\"){\n              this.setState({\n                  transinfo: this.state.transinfo.concat({\"tranId\": datas.tran[i].tranId, \"userId\": datas.tran[i].userId, \"products\": datas.tran[i].products, \n                  \"totalPrice\": datas.tran[i].totalPrice, \"tableNumber\": datas.tran[i].tableNumber, \n                  \"orderStatus\": datas.tran[i].orderStatus, \"transTime\": datas.tran[i].transTime, \"seatTaken\": datas.tran[i].seatTaken,}),\n                });\n              }\n          }\n      }.bind(this),\n      error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    });\n  \n  setTimeout(function() { \n      this.state.tableinfo.map((table, index) => {\n          this.state.transinfo.map((tran, i) => {\n              if(tran.tableNumber === table.tableNumber){\n                  let items = [...this.state.tableinfo];\n                  let item = {...items[index]};\n                  item.seatTaken = item.seatTaken + tran.seatTaken;\n                  item.transaction = item.transaction.concat(tran.tranId);\n                  items[index] = item;\n                  this.setState({tableinfo: items});\n              }\n          })\n      })\n\n      this.state.tableinfo.map((table, index) => {\n\n          if(table.maxCap <= table.seatTaken){\n              let items = [...this.state.tableinfo];\n              let item = {...items[index]};\n              item.isFull = true;\n              items[index] = item;\n              this.setState({tableinfo: items});\n          }\n      })\n      \n      this.state.tableinfo.map((table, index) => {\n          let items = [...this.state.tableinfo];\n          let item = {...items[index]};\n          if(table.isFull === true){\n              item.tableColor = '#d43b3b';\n          }\n          else if(table.isFull !== true && table.seatTaken > 0){\n              item.tableColor = '#ebae3b';\n          }\n          else{\n              item.tableColor = \"#88D969\";\n          }\n          if(table.tableNumber === \"11\"){\n            item.tableColor = 'lightgrey';\n          }\n          items[index] = item;\n          this.setState({tableinfo: items});\n\n          if(table.transaction && table.transaction.length > 0){\n              // alert(\"Table \"+table.tableNumber + \" has transaction\");\n              // alert(table.transaction[0]);\n          }\n      }\n          \n      )\n  }.bind(this), 100)\n  }\n\n  pageRefresh(usrname, password){\n    var url = \"http://localhost:3001/login\";\n    var userinfo = {'username': usrname, 'password': password};\n    $.ajax({\n      url: url,\n      method: \"POST\",\n      data: userinfo,\n      xhrFields: {\n        withCredentials: true\n      },\n      success:function(data){\n        if (data.message === \"Login Success!\"){\n          this.setState({\n            \n          })\n        } else{\n          this.setState({\n            userId: '',\n            username: '',\n            password: '',\n            isLoggedIn: false,\n            login_fail: \"LOGIN FAILURE\"\n          })\n        }\n      }.bind(this),\n      error:function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    });\n  }\n\n  LoginClick(e) {\n    if (this.state.username === '' || this.state.password === '') {\n      // alert('Please fill in all fields');\n      this.setState({\n        login_fail: 'PLEASE FILL IN ALL FIELDS!',\n      });\n    }\n    else{\n      localStorage.setItem('usrname', this.state.username);\n      localStorage.setItem('password', this.state.password);\n\n      var loginInfo = {\n        \"username\" : this.state.username,\n        \"password\" : this.state.password,\n      }\n\n      $.ajax({\n        url: \"http://localhost:3001/login\",\n        type: 'POST',\n        data: loginInfo,\n        xhrFields: { withCredentials: true },\n        // dataType: 'JSON',\n        success: function(data) {\n          if (data.message === \"Login Success!\"){\n            localStorage.setItem('loggin','true');\n            localStorage.setItem('position',data.position);\n            localStorage.setItem('userId',data.id);\n            // alert(data.id);\n\n            this.setState({\n              isLoggedIn: true,\n              login_fail: 'WELCOME!',\n              position: data.position,\n              userId: localStorage.userId,\n            });\n          } else{\n            this.setState({\n              username: '',\n              password: '',\n              isLoggedIn: false,\n              login_fail: \"LOGIN FAILURE\",\n              userId: '',\n            });\n          }\n        }.bind(this),\n          error: function (xhr, ajaxOptions, thrownError) {\n            alert(xhr.status);\n            alert(thrownError);\n          }\n      });\n\n  }\n\n  e.preventDefault(e);\n  }\n\n  LogoutClick(){\n    $.ajax({\n      url:\"http://localhost:3001/logout\",\n      method:\"GET\",\n      xhrFields: {\n        withCredentials: true\n      },\n      success: function(data){\n        // clear stored user state after logout\n        localStorage.setItem('loggin','false');\n        localStorage.setItem('usrname','');\n        localStorage.setItem('password','');\n        // clear timer\n        // clearInterval(this.timerID);\n        this.setState({\n          username: '',\n          password: '',\n          isLoggedIn: false,\n          login_fail: \"SUCCESSFULLY LOGOUT!\",\n        });\n      }.bind(this),\n      error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.status);\n        alert(thrownError);\n      }\n    });\n  }\n\n  HomeClick(e){\n    this.setState({\n        active_function: <Home/>\n      })\n      // window.print();\n  }\n\n  OrderClick(e){\n    this.setState({\n        // payBills: false,\n        active_function: <TableList \n                                    AddNewOrder = {this.AddNewOrder}\n                                    OrderTableClick ={this.OrderTableClick}\n                                    EditCurrOrder ={this.EditCurrOrder}\n                                    payBills = {'點餐'}\n                                    tableinfo={this.state.tableinfo}\n                                    transinfo={this.state.transinfo}\n                                    // edit_or_delete={this.edit_or_delete}\n                          />,\n      })\n  }\n\n  AddNewOrder(e, data){\n    let tableNumber = '';\n    if(data[2] == '0')\n      tableNumber = '10';\n    else if(data[2] == '1')\n      tableNumber = '11';\n    else\n      tableNumber = data[1];\n    if(data[0] == 1 && this.state.tableinfo[parseInt(tableNumber)-1].isFull == false){\n      this.setState({\n        active_function: <Menu BackTableClick = {this.BackTableClick}\n                              PlaceOrderClick = {this.PlaceOrderClick}\n                              tableNumber = {tableNumber}\n                              userId={this.state.userId}\n                              chosen_tran={''}\n        />,\n      })\n    }\n    else if (data[0] == 2){\n      // this.setState({\n      //   active_function: <Bills BackTableClick = {this.BackTableClick}\n      //                           PayClick = {this.PayClick}\n      //                           chosen_tran={this.state.chosen_tran}\n      //                     />,\n      // })\n      // alert(data[0]);\n    }\n    \n  }\n\n  OrderTableClick(e, data){\n    // alert(data[0]+data[1]+data[2]);\n    var chosen_tran = [];\n    var data_tranId = data.slice(1);\n    this.state.transinfo.map(tran => {\n      if(tran.tranId === data_tranId){\n        chosen_tran = chosen_tran.concat(tran);\n      }\n    })\n\n    if (data[0] == 2){\n      this.setState({\n        active_function: <Bills BackTableClick = {this.BackTableClick}\n                                PayClick = {this.PayClick}\n                                chosen_tran={chosen_tran}\n                          />,\n      })\n    }\n  }\n\n  EditCurrOrder(e, data){\n    // alert(data);\n    var chosen_tran = [];\n    var data_tranId = data;\n    this.state.transinfo.map(tran => {\n      if(tran.tranId === data_tranId){\n        chosen_tran = chosen_tran.concat(tran);\n      }\n    })\n\n     this.setState({\n          active_function: <Menu BackTableClick = {this.BackTableClick}\n                                PlaceOrderClick = {this.PlaceOrderClick}\n                                // tableNumber = {tbnum}\n                                userId={this.state.userId}\n                                chosen_tran={chosen_tran}\n                                data_tranId={data_tranId}\n                                // num_of_people={}\n          />,\n    })\n    // this.setState({\n    //   active_function: <Home/>\n    // })\n  }\n\n  DeleteCurrOrder(e, data){\n    // delete current order\n  }\n\n  PaybillsClick(e){\n    this.setState({\n        // payBills: true,\n        active_function: <TableList \n                                    AddNewOrder = {this.AddNewOrder}\n                                    OrderTableClick ={this.OrderTableClick}\n                                    EditCurrOrder ={this.EditCurrOrder}\n                                    payBills = {'結賬'}\n                                    tableinfo={this.state.tableinfo}\n                                    transinfo={this.state.transinfo}\n                                    // edit_or_delete={this.edit_or_delete}\n        />,\n        // active_function: <Menu/>,\n      })\n  }\n\n  ForecastClick(e){\n    if(this.state.position == \"manager\"){\n      this.setState({\n        active_function: <Forecast/>,\n      })\n    }\n    else{\n      alert(\"Permitted Action!\");\n      // this.props.history.push('/home/');\n      // return(\n    //   <Redirect to={{\n    //     pathname: '/home',\n    //     // state: { id: '123' }\n    // }} />\n    //   <Route>\n    // return <Redirect to='/home' />\n      // <Redirect path=\"/home\" />\n    // </Route>\n    \n    \n      // )\n    \n  }\n  }\n\n  BackTableClick(e, data){\n    // alert(data[0]);\n    if(data[0] == 1)\n      this.setState({\n        active_function: <TableList \n        AddNewOrder = {this.AddNewOrder}\n        OrderTableClick ={this.OrderTableClick}\n        EditCurrOrder ={this.EditCurrOrder}\n        payBills = {'結賬'}\n        tableinfo={this.state.tableinfo}\n        transinfo={this.state.transinfo}\n        // edit_or_delete={this.edit_or_delete}\n        />,\n      })\n    else\n    this.setState({\n      active_function: <TableList \n      AddNewOrder = {this.AddNewOrder}\n      OrderTableClick ={this.OrderTableClick}\n      EditCurrOrder ={this.EditCurrOrder}\n      payBills = {'結賬'}\n      tableinfo={this.state.tableinfo}\n      transinfo={this.state.transinfo}\n      // edit_or_delete={this.edit_or_delete}\n      />,\n    })\n  }\n\n  PlaceOrderClick(e, data){\n      this.setState({\n        active_function: <Home/>,\n      })\n  }\n\n  PayClick(e, datass){\n    var confirmation = window.confirm('你是否要結賬？');\n      if(confirmation === true){\n        // alert(data);\n        this.setState({\n          active_function: <Home/>,\n        })\n\n        // update transation orderStatus\n        var url = \"http://localhost:3001/orderfinished\";\n        var datas = {\n          \"tranId\": datass,\n        };\n        $.ajax({\n          url: url,\n          method: \"PUT\",\n          data: datas,\n          xhrFields: {\n            withCredentials: true\n          },\n          success:function(data){\n            alert(\"成功結賬，交易編號：\"+datass);\n          }.bind(this),\n          error:function (xhr, ajaxOptions, thrownError) {\n            alert(xhr.status);\n            alert(thrownError);\n          }\n        });\n      }\n    }\n  }\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}